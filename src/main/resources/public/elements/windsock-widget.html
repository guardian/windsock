<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="windsock-data.html">
<link rel="import" href="windsock-status.html">
<link rel="import" href="windsock-notices.html">

<dom-module id="windsock-widget">
  <style>
    :host(.collapsed) windsock-notices-view { display: none }
  </style>

  <template>

    <windsock-data src="{{src}}" refresh="{{refresh}}" sink-notices="{{notices}}"></windsock-data>

    <button on-click="toggle" disabled?="{{isEmpty(notices.length)}}">
      <windsock-status-view notices="{{notices}}"></windsock-status-view>
    </button>
    <windsock-notices-view notices="{{notices}}"
                           class="collapsed"
    ></windsock-notices-view>
  </template>
</dom-module>

<script>
  System.import('windsock/elements/windsock-widget');
</script>
