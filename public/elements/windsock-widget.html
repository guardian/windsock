<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="windsock-data.html">
<link rel="import" href="windsock-status.html">
<link rel="import" href="windsock-notices.html">

<script>
  System.import('~/elements/windsock-widget');
</script>


<polymer-element name="windsock-widget" attributes="src refresh" class="collapsed">
  <template>
    <style>
      :host(.collapsed) windsock-notices-view { display: none }
    </style>

    <windsock-data src="{{src}}" refresh="{{refresh}}" sink-notices="{{notices}}"></windsock-data>

    <button on-click="{{toggle}}">
      <windsock-status-view notices="{{notices}}"></windsock-status-view>
    </button>
    <windsock-notices-view notices="{{notices}}"
                           class="collapsed"
    ></windsock-notices-view>
  </template>
</polymer-element>
